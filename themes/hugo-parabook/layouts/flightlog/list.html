{{ define "body_class" }}big{{ end }}

{{ define "main" }}

<script>
$(window).on('load', function() {
    // code here
    $(".time-format").contents().each((_, e) => {
      e.data = new Date(parseInt(e.data) * 1000).toISOString().substr(11, 8);
    })
  });
</script>

<main class="content" role="main">
    <article class="post page">
      <header class="post-header">
        <h2 class="post-title">{{ .Title }}</h2>
      </header>
      <section class="post-content">
        {{ .Content }}

        <table>
            <tr>
              <th>#</th>
              <th>Location</th>
              <th>Date</th>
              <th>Duration</th>
              <th>Max Altitude</th>
              <th>Altitude Gain</th>
              <th>Wing</th>
              <th>Comments</th>
            </tr>
            {{ range $.Site.Data.flightlog }}
            <tr>
                <td><a href="/flying/flights/{{.flightNumber}}">{{.flightNumber}}</a></td>
                <td>{{.location}}</td>
                <td>{{.date}}</td>
                <td class="time-format">{{.durationSeconds }}</td>
                <td>{{.maxAltitudeMeters }}</td>
                <td>{{.altitudeGainMeters }}</td>
                <td>{{.wing }}</td>
                <td>{{.comments }}</td>
            </tr>
            {{ end }}
          </table>
        
      </section>
    </article>
  </main>

{{ end }}
